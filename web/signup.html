<!DOCTYPE html>
<html>
<head>

<title>E-Commerce Cart</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>
	<nav class="navbar navbar-expand-lg navbar-light bg-light">
	<div class="container">
		<a class="navbar-brand" href="index.html">E-Commerce Cart</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse"
			data-target="#navbarSupportedContent"
			aria-controls="navbarSupportedContent" aria-expanded="false"
			aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
	
		<div class="collapse navbar-collapse" id="navbarSupportedContent">
			<ul class="navbar-nav ml-auto">
				<li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
				<li class="nav-item"><a class="nav-link" href="cart.jsp">Cart <span class="badge badge-danger"></span> </a></li>
				
				<li class="nav-item"><a class="nav-link" href="order.jsp">Orders</a></li>
				
				
				<li class="nav-item"><a class="nav-link" href="login.html">Login</a></li>
                                <li class="nav-item"><a class="nav-link" href="signup.html">SignUp</a></li>
				
			</ul>
		</div>
	</div>
</nav>

	<div class="container">
		<div class="card w-50 mx-auto my-5">
			<div class="card-header text-center">Sign Up</div>
			<div class="card-body">
				<form action="signup.jsp" method="POST">
                                    <div class="form-group">
					<label>Enter Username</label> 
					<input type="text" name="t1" class="form-control" placeholder="Enter Username">
                                    </div>
                                    <div class="form-group">
						<label>Enter Email</label> 
						<input type="email" name="t3" class="form-control" placeholder="Enter email">
				</div>
                                    <div class="form-group">
					<label>Password</label> 
					<input type="password" name="t2" class="form-control" placeholder="Password">
                                    </div>
                                    <div class="text-center">
                                           <button type="submit" name="Save" class="btn btn-primary">SignUp</button>
                                    </div>
                                  </form>
                    
			</div>
		</div>
	</div>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.bundle.min.js"></script>
	<script>
    document.addEventListener("DOMContentLoaded", function () {
        function isLoggedIn() {
            return sessionStorage.getItem("isLoggedIn") === "true"; // Session-based login (auto logout on tab close)
        }

        function showLoginPopup(event) {
            event.preventDefault();
            alert("Please log in first!"); // Simple popup (replace with modal if needed)
        }

        // Protect restricted pages (cart, orders)
        function protectPage() {
            const restrictedPages = ["cart.jsp", "order.jsp"];
            const currentPage = window.location.pathname.split("/").pop();
            if (restrictedPages.includes(currentPage) && !isLoggedIn()) {
                window.location.href = "login.html"; // Redirect unauthorized users to login page
            }
        }

        // Run protection check on page load
        protectPage();

        // Block cart and orders if not logged in
        document.querySelectorAll("a[href='cart.jsp'], a[href='order.jsp']").forEach(link => {
            link.addEventListener("click", function (event) {
                if (!isLoggedIn()) {
                    showLoginPopup(event);
                }
            });
        });

        // Handle login action (simulate login)
        document.querySelector("a[href='login.html']")?.addEventListener("click", function () {
            sessionStorage.setItem("isLoggedIn", "true");
        });

        // Handle signup action (simulate login after signup)
        document.querySelector("a[href='signup.html']")?.addEventListener("click", function () {
            sessionStorage.setItem("isLoggedIn", "true");
        });

        // Simulated logout (optional)
        document.querySelector("a[href='logout.html']")?.addEventListener("click", function () {
            sessionStorage.removeItem("isLoggedIn");
        });
    });
</script>

</body>
</html>